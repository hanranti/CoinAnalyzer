{"version":3,"sources":["components/Topbar.js","components/Login.js","components/Content.js","services/loginService.js","services/dataService.js","App.js","reportWebVitals.js","index.js"],"names":["Topbar","topbarData","logo","style","backgroundColor","color","userField","user","name","left","Fragment","right","label","disabled","onClick","handleLogout","Login","loginData","usedStyle","cancelledStyle","loginStyle","signupStyle","usedLoginStyle","login","Object","assign","usedSignupStyle","checked","onChange","setLogin","onSubmit","handleLogin","type","value","username","target","setUsername","password","setPassword","handleSignup","newUsername","setNewUsername","newPassword","setNewPassword","passwordCheck","setPasswordCheck","newName","setNewName","Content","contentData","console","log","errorMessage","map","error","className","users","u","userDetails","setters","a","axios","post","headers","data","setToken","token","setUser","setErrorMessage","response","errors","createUser","newToken","getAllUsers","get","Authorization","res","setUsers","message","includes","App","useState","useEffect","localUser","window","localStorage","getItem","JSON","parse","dataService","event","preventDefault","loginService","setItem","stringify","removeItem","basename","process","REACT_APP_ROUTER_BASENAME","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.aad43373.chunk.js","sourcesContent":["import { Toolbar } from 'primereact/toolbar'\n//import { Sidebar } from 'primereact/sidebar'\nimport { Button } from 'primereact/button'\nimport React/**, { useState }*/ from 'react'\n//import { useHistory } from 'react-router-dom'\n//import { InputSwitch } from 'primereact/inputswitch'\n\nconst Topbar = ({ topbarData }) => {\n\n  //const [showFilters, setShowFilters] = useState(false)\n\n  //let history = useHistory()\n\n  const style = {\n    backgroundColor: '#cc0000'\n  }\n\n  const logoStyle = {\n    backgroundColor: '#E8FF01',\n    color: '#EF9C0B',\n    'fontSize': 'large',\n    'borderRadius': '15px',\n    'padding': '15px'\n  }\n\n  const userFieldStyle = {\n    color: '#EF9C0B'\n  }\n\n  const logo = <div style={logoStyle}>CoinAnalyzer</div>\n\n  const userField = <div style={userFieldStyle}>{topbarData.user.name}</div>\n\n  const left = (\n    <React.Fragment>\n      {logo}\n      {\n        topbarData.user\n          ? userField\n          : <div></div>\n      }\n    </React.Fragment>\n  )\n\n  const right = (\n    <React.Fragment>\n      <Button label=\"Logout\" disabled={!topbarData.user} onClick={topbarData.handleLogout}/>\n    </React.Fragment>\n  )\n\n  return <Toolbar left={left} right={right} style={style}></Toolbar>\n}\n\nexport default Topbar","import React from 'react'\nimport { InputSwitch } from 'primereact/inputswitch'\n\nconst Login = ({ loginData }) => {\n\n  const formStyle = {\n    'clear': 'both',\n    'fontFamily': 'Times New Roman',\n    'marginLeft': '15px',\n    'marginRight': '15px'\n  }\n\n  const usedStyle = {\n    'backgroundColor': '#e6e600'\n  }\n\n  const cancelledStyle = {\n    'color': '#8c8c8c',\n    'backgroundColor': '#d9d9d9'\n  }\n\n  const loginStyle = {\n    'float': 'left',\n    'textAlign': 'left',\n    'width': '500px',\n    'height': '1000px',\n    'borderRadius': '10px',\n    'padding': '50px'\n  }\n\n  const signupStyle = {\n    'float': 'right',\n    'textAlign': 'left',\n    'width': '500px',\n    'height': '1000px',\n    'borderRadius': '10px',\n    'padding': '50px'\n  }\n\n  const usedLoginStyle = loginData.login\n    ? Object.assign(loginStyle, cancelledStyle)\n    : Object.assign(loginStyle, usedStyle)\n\n  const usedSignupStyle = !loginData.login\n    ? Object.assign(signupStyle, cancelledStyle)\n    : Object.assign(signupStyle, usedStyle)\n\n  return <div style={formStyle}>\n    <div style={{ 'textAlign': 'center' }}>\n      <p>Switch login/signup</p>\n      <InputSwitch checked={loginData.login} onChange={() => loginData.setLogin(!loginData.login)} />\n    </div>\n    <form onSubmit={loginData.handleLogin} style={usedLoginStyle}>\n      <h3>Login</h3>\n      <p>username:</p>\n      <input type='text' value={loginData.username} name='username' onChange={({ target }) => loginData.setUsername(target.value)} />\n      <br />\n      <p>password:</p>\n      <input type='password' value={loginData.password} name='password' onChange={({ target }) => loginData.setPassword(target.value)} />\n      <button type=\"submit\">login</button>\n    </form>\n    <form onSubmit={loginData.handleSignup} style={usedSignupStyle}>\n      <h3>Signup</h3>\n      <p>username:</p>\n      <input type='text' value={loginData.newUsername} name='username' onChange={({ target }) => loginData.setNewUsername(target.value)} />\n      <br />\n      <p>password:</p>\n      <input type='password' value={loginData.newPassword} name='password' onChange={({ target }) => loginData.setNewPassword(target.value)} />\n      <br/>\n      <p>retype password:</p>\n      <input type='password' value={loginData.passwordCheck} name='password' onChange={({ target }) => loginData.setPasswordCheck(target.value)} />\n      <p>your name:</p>\n      <input type='text' value={loginData.newName} name='name' onChange={({ target }) => loginData.setNewName(target.value)} />\n      <button type=\"submit\">sign up</button>\n    </form>\n  </div>\n}\n\nexport default Login","import React from 'react'\n//import { Switch, Route } from 'react-router-dom'\nimport Login from './Login'\n\nconst Content = ({ contentData }) => {\n\n  console.log(contentData)\n\n  const errorStyle = {\n    'color': '#ff6400',\n    'backgroundColor': '#9f0195',\n    'textAlign': 'center'\n  }\n\n  const errorMessage = <div style={errorStyle}>\n    <ul>\n      {contentData.errorMessage.map(error => <li key={error}>{error}</li>)}\n    </ul>\n  </div>\n\n  return <div className='body'>\n    {\n      contentData.errorMessage\n        ? errorMessage\n        : <div></div>\n    }\n    {\n      contentData.user\n        ? <div>\n          <h3>Coin analyzers:</h3>\n          <ul>\n            {contentData.users.map(u => (<li key={u.username}>{u.username}</li>))}\n          </ul>\n        </div>\n        : <Login loginData={contentData.loginData} />\n    }\n  </div>\n}\n\nexport default Content","import axios from 'axios'\n\nconst login = async (userDetails, setters) => {\n  try{\n    const data =  (await axios.post('/login', { username: userDetails.username, password: userDetails.password }, { headers:{} })).data\n    setters.setToken(data.token)\n    setters.setUser(data)\n    console.log(data)\n    setters.setErrorMessage([])\n    setters.setUsername('')\n    setters.setPassword('')\n  }catch(error) {\n    setters.setErrorMessage(error.response.data.errors)\n  }\n}\n\nconst createUser = async (userDetails, setters) => {\n  try {\n    const data = (await axios.post('/signup', { username: userDetails.newUsername, password: userDetails.newPassword, name: userDetails.newName }, { headers:{} })).data\n    setters.setErrorMessage([])\n    setters.setNewUsername('')\n    setters.setNewPassword('')\n    setters.setPasswordCheck('')\n    setters.setNewName('')\n    return data\n  } catch(error) {\n    setters.setErrorMessage(error.response.data.errors)\n  }\n}\n\nexport default {\n  login,\n  createUser\n}","import axios from 'axios'\n\nconst apiUrl = '/api'\n\nlet token = null\n\nconst setToken = newToken => token = `bearer ${newToken}`\n\nconst getConfig = () => ({\n  headers: {\n    Authorization: token\n  }\n})\n\nconst getAllUsers = async (setters) => {\n  console.log(token)\n  try {\n    const res = await axios.get(`${apiUrl}/users`, getConfig())\n    console.log(res.data)\n    setters.setUsers(res.data)\n  } catch(error) {\n    console.log(error)\n    if (error.message.includes('403')) {\n      setters.setErrorMessage(error.response.data.errors)\n    }\n  }\n}\n\nexport default {\n  setToken,\n  getAllUsers\n}","import React, { useEffect, useState } from 'react'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport 'primereact/resources/themes/md-dark-deeppurple/theme.css'\nimport 'primereact/resources/primereact.min.css'\nimport 'primeicons/primeicons.css'\nimport Topbar from './components/Topbar'\nimport Content from './components/Content'\nimport loginService from './services/loginService'\nimport dataService from './services/dataService'\n\nfunction App() {\n  const [user, setUser] = useState(false)\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [newUsername, setNewUsername] = useState('')\n  const [newPassword, setNewPassword] = useState('')\n  const [newName, setNewName] = useState('')\n  const [passwordCheck, setPasswordCheck] = useState('')\n  const [login, setLogin] = useState(true)\n  const [errorMessage, setErrorMessage] = useState([])\n  const [users, setUsers] = useState([])\n\n  useEffect(() => {\n    const localUser = window.localStorage.getItem('loggedCoinAnalyzer')\n    localUser ? setUser(JSON.parse(localUser)) : false\n  }, [])\n\n  useEffect(() => {\n    if (user){\n      dataService.getAllUsers({ setUsers, setErrorMessage })\n    }\n  }, [user])\n\n  const handleLogin = async event => {\n    event.preventDefault()\n    await loginService.login({ username, password }, { setUser, setErrorMessage, setUsername, setPassword, setToken: dataService.setToken })\n    window.localStorage.setItem(\n      'loggedCoinAnalyzer', JSON.stringify(user)\n    )\n  }\n\n  const handleLogout = async event => {\n    event.preventDefault()\n    window.localStorage.removeItem('loggedCoinAnalyzer')\n    setUser(false)\n  }\n\n  const handleSignup = async event => {\n    event.preventDefault()\n    await loginService.createUser({ newUsername, newPassword, newName }, { setErrorMessage, setNewUsername, setNewPassword, setPasswordCheck, setNewName })\n  }\n\n  const loginData = {\n    username: username,\n    setUsername: setUsername,\n    password: password,\n    setPassword: setPassword,\n    newUsername: newUsername,\n    setNewUsername: setNewUsername,\n    newPassword: newPassword,\n    setNewPassword: setNewPassword,\n    newName: newName,\n    setNewName: setNewName,\n    passwordCheck: passwordCheck,\n    setPasswordCheck: setPasswordCheck,\n    login: login,\n    setLogin: setLogin,\n    handleLogin: handleLogin,\n    handleSignup: handleSignup\n  }\n\n  const contentData = {\n    loginData: loginData,\n    user: user,\n    errorMessage: errorMessage,\n    users: users\n  }\n\n  const topbarData = {\n    user: user,\n    handleLogout: handleLogout\n  }\n\n  return <div>\n    <Router basename={process.env.REACT_APP_ROUTER_BASENAME}>\n      <Topbar topbarData={topbarData}></Topbar>\n      <Content contentData={contentData}></Content>\n    </Router>\n  </div>\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}