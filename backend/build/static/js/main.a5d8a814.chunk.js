(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{31:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),a=n(6),c=n.n(a),o=(n(31),n(4)),i=n.n(o),u=n(7),l=n(3),d=n(25),j=(n(33),n(34),n(35),n(23)),b=n(26),p=n(2),g=function(e){var t=e.topbarData,n=Object(p.jsx)("div",{style:{backgroundColor:"#E8FF01",color:"#EF9C0B",fontSize:"large",borderRadius:"15px",padding:"15px"},children:"CoinAnalyzer"}),r=Object(p.jsx)("div",{style:{color:"#EF9C0B"},children:t.user.name}),a=Object(p.jsxs)(s.a.Fragment,{children:[n,t.user?r:Object(p.jsx)("div",{})]}),c=Object(p.jsx)(s.a.Fragment,{children:Object(p.jsx)(b.a,{label:"Logout",disabled:!t.user,onClick:t.handleLogout})});return Object(p.jsx)(j.a,{left:a,right:c,style:{backgroundColor:"#cc0000"}})},O=n(24),h=function(e){var t=e.loginData,n={backgroundColor:"#e6e600"},r={color:"#8c8c8c",backgroundColor:"#d9d9d9"},s={float:"left",textAlign:"left",width:"500px",height:"1000px",borderRadius:"10px",padding:"50px"},a={float:"right",textAlign:"left",width:"500px",height:"1000px",borderRadius:"10px",padding:"50px"},c=t.login?Object.assign(s,r):Object.assign(s,n),o=t.login?Object.assign(a,n):Object.assign(a,r);return Object(p.jsxs)("div",{style:{clear:"both",fontFamily:"Times New Roman",marginLeft:"15px",marginRight:"15px"},children:[Object(p.jsxs)("div",{style:{textAlign:"center"},children:[Object(p.jsx)("p",{children:"Switch login/signup"}),Object(p.jsx)(O.a,{checked:t.login,onChange:function(){return t.setLogin(!t.login)}})]}),Object(p.jsxs)("form",{onSubmit:t.handleLogin,style:c,children:[Object(p.jsx)("h3",{children:"Login"}),Object(p.jsx)("p",{children:"username:"}),Object(p.jsx)("input",{type:"text",value:t.username,name:"username",onChange:function(e){var n=e.target;return t.setUsername(n.value)}}),Object(p.jsx)("br",{}),Object(p.jsx)("p",{children:"password:"}),Object(p.jsx)("input",{type:"password",value:t.password,name:"password",onChange:function(e){var n=e.target;return t.setPassword(n.value)}}),Object(p.jsx)("button",{type:"submit",disabled:t.login,children:"login"})]}),Object(p.jsxs)("form",{onSubmit:t.handleSignup,style:o,children:[Object(p.jsx)("h3",{children:"Signup"}),Object(p.jsx)("p",{children:"username:"}),Object(p.jsx)("input",{type:"text",value:t.newUsername,name:"username",onChange:function(e){var n=e.target;return t.setNewUsername(n.value)}}),Object(p.jsx)("br",{}),Object(p.jsx)("p",{children:"password:"}),Object(p.jsx)("input",{type:"password",value:t.newPassword,name:"password",onChange:function(e){var n=e.target;return t.setNewPassword(n.value)}}),Object(p.jsx)("br",{}),Object(p.jsx)("p",{children:"retype password:"}),Object(p.jsx)("input",{type:"password",value:t.passwordCheck,name:"password",onChange:function(e){var n=e.target;return t.setPasswordCheck(n.value)}}),Object(p.jsx)("p",{children:"your name:"}),Object(p.jsx)("input",{type:"text",value:t.newName,name:"name",onChange:function(e){var n=e.target;return t.setNewName(n.value)}}),Object(p.jsx)("button",{type:"submit",disabled:!t.login,children:"sign up"})]})]})},w=function(e){var t=e.contentData;console.log(t);var n=Object(p.jsx)("div",{style:{color:"#ff6400",backgroundColor:"#9f0195",textAlign:"center"},children:Object(p.jsx)("ul",{children:t.errorMessage.map((function(e){return Object(p.jsx)("li",{children:e},e)}))})});return Object(p.jsxs)("div",{className:"body",children:[t.errorMessage?n:Object(p.jsx)("div",{}),t.user?Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{children:"Coin analyzers:"}),Object(p.jsx)("ul",{children:t.users.map((function(e){return Object(p.jsx)("li",{children:e.username},e.username)}))})]}):Object(p.jsx)(h,{loginData:t.loginData})]})},x=n(9),f=n.n(x),m={login:function(){var e=Object(u.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("/login",{username:t.username,password:t.password},{headers:{}});case 3:r=e.sent.data,n.setToken(r.token),n.setUser(r),n.setErrorMessage([]),n.setUsername(""),n.setPassword(""),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),n.setErrorMessage(e.t0.response.data.errors);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),createUser:function(){var e=Object(u.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("/signup",{username:t.newUsername,password:t.newPassword,name:t.newName},{headers:{}});case 3:return r=e.sent.data,n.setErrorMessage([]),n.setNewUsername(""),n.setNewPassword(""),n.setPasswordCheck(""),n.setNewName(""),e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(0),n.setErrorMessage(e.t0.response.data.errors);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}()},v=null,C={setToken:function(e){return v="bearer ".concat(e)},getAllUsers:function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(v),e.prev=1,e.next=4,f.a.get("".concat("/api","/users"),{headers:{Authorization:v}});case 4:n=e.sent,t.setUsers(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0.message.includes("403")&&t.setErrorMessage(e.t0.response.data.errors);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()};var S=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1],a=Object(r.useState)(""),c=Object(l.a)(a,2),o=c[0],j=c[1],b=Object(r.useState)(""),O=Object(l.a)(b,2),h=O[0],x=O[1],f=Object(r.useState)(""),v=Object(l.a)(f,2),S=v[0],y=v[1],k=Object(r.useState)(""),N=Object(l.a)(k,2),E=N[0],P=N[1],U=Object(r.useState)(""),T=Object(l.a)(U,2),A=T[0],D=T[1],F=Object(r.useState)(""),L=Object(l.a)(F,2),M=L[0],R=L[1],_=Object(r.useState)(!0),z=Object(l.a)(_,2),B=z[0],I=z[1],J=Object(r.useState)([]),H=Object(l.a)(J,2),K=H[0],W=H[1],V=Object(r.useState)([]),q=Object(l.a)(V,2),G=q[0],Q=q[1];Object(r.useEffect)((function(){var e=window.localStorage.getItem("loggedCoinAnalyzer");e&&s(JSON.parse(e))}),[]),Object(r.useEffect)((function(){n&&C.getAllUsers({setUsers:Q,setErrorMessage:W})}),[n]),Object(r.useEffect)((function(){setTimeout((function(){return W([])}),1e4)}),[K]);var X=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,m.login({username:o,password:h},{setUser:s,setErrorMessage:W,setUsername:j,setPassword:x,setToken:C.setToken});case 3:window.localStorage.setItem("loggedCoinAnalyzer",JSON.stringify(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),window.localStorage.removeItem("loggedCoinAnalyzer"),C.setToken(""),s(!1),Q([]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z={loginData:{username:o,setUsername:j,password:h,setPassword:x,newUsername:S,setNewUsername:y,newPassword:E,setNewPassword:P,newName:A,setNewName:D,passwordCheck:M,setPasswordCheck:R,login:B,setLogin:I,handleLogin:X,handleSignup:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,m.createUser({newUsername:S,newPassword:E,newName:A},{setErrorMessage:W,setNewUsername:y,setNewPassword:P,setPasswordCheck:R,setNewName:D});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},user:n,errorMessage:K,users:G},$={user:n,handleLogout:Y};return Object(p.jsx)("div",{children:Object(p.jsxs)(d.a,{basename:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ROUTER_BASENAME,children:[Object(p.jsx)("button",{onClick:function(){return s({token:"beagle",username:"beagle"})},children:"beaglebutton"}),Object(p.jsx)(g,{topbarData:$}),Object(p.jsx)(w,{contentData:Z})]})})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,56)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),s(e),a(e),c(e)}))};c.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(S,{})}),document.getElementById("root")),y()}},[[55,1,2]]]);
//# sourceMappingURL=main.a5d8a814.chunk.js.map